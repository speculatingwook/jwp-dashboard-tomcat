# 톰캣 이해하기

연결의 흐름

## 톰캣 클래스 - 컨넥터 객체를 생성하고 돌림.

## 컨넥터 클래스 - 요청과 처리를 연결해서 그런 이름인가보다
컨넥터는 가게문(톰캣)을 열자마자 고객창구(소켓)를 구축해준다.
createServerSocker() 메소드 이용
첫번째 변수 - 포트번호, 두번째 변수 - 대기열(큐)의 의자 수(의자에 앉지 못하면 가게 밖에서 기다려야됨
(사실상 가게 입장 거부상태)

컨넥터는 대장 쓰레드에 올라감 - 얘 죽으면 새끼 쓰레드 다죽음
override run 함수
쓰레드가 시작되면 이를 수행함 (무한 커넥트).

connect 함수
serverSocket.accept()로 고객창구에서 요청사항 접수를 process로 처리

process 함수
HTTPProcessor에 업무 하청 (새끼 쓰레드)

## HTTP처리기 클래스

run 보면 얘도 그냥 일에 미친놈이라 connection정보로 process만 주구장창함
창구에서 전달받은거(인풋스트림)을 이용해 응답(아웃풋스트림)에 리스폰스 띄워보냄

그럼 첫번째 구현은 url에 따라 http 응답이 달라지게 만드는게 목표니까
HTTP처리기 응답방식을 수정하면 되겟군.

단순 스트링이아닌 스트림이니까 어떻게 하면 잘 읽을 수 있을지 고민해보자.
